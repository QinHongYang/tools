!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.tools={})}(this,function(t){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function e(t){this.$d=this.parseConfig(t),this.init()}function c(t){var e=Object.prototype.toString.call(t);return(e=e.replace(/.*\s(\w+)\]/g,"$1")).toLowerCase()}e.prototype={parseConfig:function(t){var e;return t?t instanceof Date?t:(e=String(t).match(/^(\d{4})-?(\d{2})-?(\d{1,2})$/))?new Date(e[1],e[2]-1,e[3]):new Date(t):new Date},padStart:function(t,e,n){return!t||t.length>=e?t:"".concat(Array(e+1-t.length).join(n)).concat(t)},init:function(){this.$zone=this.$d.getTimezoneOffset()/60,this.$zoneStr=this.padStart(String(-1*this.$zone).replace(/^(.)?(\d)/,"$10$200"),5,"+"),this.$y=this.$d.getFullYear(),this.$M=this.$d.getMonth(),this.$D=this.$d.getDate(),this.$W=this.$d.getDay(),this.$H=this.$d.getHours(),this.$m=this.$d.getMinutes(),this.$s=this.$d.getSeconds(),this.$ms=this.$d.getMilliseconds()},format:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"cn",r="en"===n?["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],o="en"===n?["January","February","March","April","May","June","July","August","September","October","November","December"]:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return t.replace(/Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,2}|Z{1,2}/g,function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return String(e.$y);case"M":return String(e.$M+1);case"MM":return e.padStart(String(e.$M+1),2,"0");case"MMM":return o[e.$M].slice(0,3);case"MMMM":return o[e.$M];case"D":return String(e.$D);case"DD":return e.padStart(String(e.$D),2,"0");case"d":return String(e.$W);case"dddd":return r[e.$W];case"H":return String(e.$H);case"HH":return e.padStart(String(e.$H),2,"0");case"m":return String(e.$m);case"mm":return e.padStart(String(e.$m),2,"0");case"s":return String(e.$s);case"ss":return e.padStart(String(e.$s),2,"0");case"Z":return"".concat(e.$zoneStr.slice(0,-2),":00");default:return e.$zoneStr}})}};var n={_patterns:{mobile:/^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57]|16[0-9])[0-9]{8}$/,tel:/^(\(\d{3,4}\)|\d{3,4}-)?\d{7,8}$/,password:/^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$).{8,16}$/,email:/(^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$)|(^noemail$)/,save2BitPoint:/^[0-9]+(\.\d{1,2})?$/},verify:function(t,e){return!(!t||!e)&&(this._patterns[t]?this._patterns[t].test(e):(console.error("该正则不存在，可用 extend 方法扩展。"),!1))},extend:function(t,e){return t&&e?this._patterns[t]?(console.error("该正则已存在"),!1):e instanceof RegExp?(this._patterns[t]=e,this):console.error("添加规则为 RegExp"):console.error("类型或正则不能为空")}};t.debounce=function(n){var r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:150;return function(){var t=this,e=arguments;r&&(clearTimeout(r),r=null),r=setTimeout(function(){n.apply(t,e)},o)}},t.deepCopy=function t(e){var n;if(null===e||"object"!==a(e))return e;if(e instanceof Date)return(n=new Date).setTime(e.getTime()),n;if(e instanceof Array){n=[];for(var r=0,o=e.length;r<o;r++)n[r]=t(e[r]);return n}if(e instanceof Object){for(var i in n={},e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},t.forbidBodyScroll=function(){var t=0,e="modal-open";return function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]?(t=document.scrollingElement.scrollTop,document.body.classList.add(e),document.body.style.top="-".concat(t,"px")):(document.body.classList.remove(e),document.scrollingElement.scrollTop=t)}},t.getFontSize=function(){var t=document.querySelector("html");return+window.getComputedStyle(t).fontSize.replace(/(\d+)\w+/g,"$1")||1},t.getVariableByDomain=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=document.domain;return t[t.lang?"".concat(e,"_").concat(t.lang):"".concat(e)]},t.typer=c,t.timejs=function(t){return new e(t)},t.isEmpty=function(t){return null==t||!(Object.keys(t)||t).length},t.mergerOfSimilarItems=function(t,r,o){if(t&&r&&o){var i={};return t.forEach(function(e){var n="key_";r.forEach(function(t){n+=e[t]}),i[n]?o.forEach(function(t){i[n][t]=+i[n][t]+ +e[t]}):i[n]=e}),Object.keys(i).map(function(t){return i[t]})}},t.obj2Params=function(t){if("object"===c(t))return function n(r,o){var i=[],a="";return o?a=o.join(".")+".":o=[],Object.keys(r).forEach(function(t){switch(c(r[t])){case"object":var e=n(r[t],o.concat([t]));i=i.concat(e);break;case"array":i.push(a+t+"="+r[t].join());break;default:i.push(a+t+"="+r[t])}}),i}(t).join("&");console.error("function obj2Params receive a nonsupport type parameter.")},t.parseUrl=function(t){var e=i((t=t||window.location.href).split("?"),2),n=e[0],r=e[1];if(r){var o={url:n};return r.split("&").forEach(function(t){var e=i(t.split("="),2),n=e[0],r=e[1];o[n]=decodeURIComponent(r)}),o}return{}},t.regTips=n,t.setTitle=function(t){document.title=t;var e=document.createElement("iframe");e.style.display="none",e.onload=function(){return setTimeout(function(){return e.remove()},9)},document.body.appendChild(e)},t.storage=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"localStorage";return{get:function(t){var e=window[n].getItem(t);if(e)try{return JSON.parse(e)}catch(t){return e}return null},set:function(t,e){e&&"object"===c(e)&&(e=JSON.stringify(e)),window[n].setItem(t,e)},clearAll:function(){window[n].clear()},clearItem:function(t){window[n].removeItem(t)}}},t.threshold=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:150;if(n){var o=null;return function(){var t=+new Date,e=arguments;o&&!(r<=t-o)||(n.apply(this,e),o=+new Date)}}},t.throttle=function(t){var e,n,r,o,i,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:150,c=function(){t.apply(o,i),n=e};return function(){if(o=this,i=arguments,e=Date.now(),r&&(clearTimeout(r),r=null),n){var t=a-(e-n);t<0?c():r=setTimeout(function(){c()},t)}else c()}},t.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.viewportSize=function(){return{viewportH:window.innerHeight||document.documentElement.clientHeight,viewportW:window.innerWidth||document.documentElement.clientWidth}},Object.defineProperty(t,"__esModule",{value:!0})});
